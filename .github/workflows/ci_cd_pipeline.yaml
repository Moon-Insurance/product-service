name: CI/CD for Product Service # Name of the pipeline

on:
  push:
    branches:
      - master # branch to trigger the pipeline
    paths:
      - "*/**" # path to trigger the pipeline

jobs:
  call-pipeline:
    uses: Moon-Insurance/main-service/.github/workflows/ci_c_pipeline.yaml@main # Path to the reusable workflow
    with:
      service_name: "product-service"
      aggregator_service: false # Aggregator service flag
    secrets:
      GITHUB_TOKEN: ${{ secrets.WORKFLOW_TOKEN }} # Token to trigger the reusable workflow√ü
